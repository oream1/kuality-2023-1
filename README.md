# kuality-2023-1

### scanf 취약점

```c
int main() {
    char name[20];
    scanf("%s", &name);
}
```

`scanf()` 함수는 Buffer Overflow 취약점을 가지고 있습니다.<br>
포맷 스트링으로 `%s`가 주어졌을 때 입력 길이의 제한이 없기 때문에 20바이트 이상의 문자가 들어갈 수 있게 됩니다.<br>
즉, 20바이트로 정해놓은 char 문자열 메모리 구역을 넘기고 초과하여 메모리에 값을 작성하게 되는데,<br>
이와 같이 정해놓은 구역이 아닌 다른 구역에 값을 작성하는 것으로 문제가 발생하게 됩니다.<br>
<br>
보통 다른 구역에 의도되지 않는 값이 작성되면 프로그램은 예외처리를 통해 크래시를 일으키게 되지만,<br>
악의적인 값을 그러한 구역에 마치 프로그램이 의도 한 것과 같이 값을 작성하게 되면 아무런 검증 절차가 걸려 있지 않은 프로그램은<br>
정상적으로 실행되어 악의적인 행동을 자연스럽게 할 수 있게 됩니다.<br>
<br>
개발자는 `scanf()` 함수 사용시 포맷 스트링으로 주어질 수 있는 문자 갯수를 지정하여 해당 취약점을 쉽게 막을 수 있습니다.
```diff
3c3
<     scanf("%s", &name);
---
>     scanf("%19s", &name);
```
